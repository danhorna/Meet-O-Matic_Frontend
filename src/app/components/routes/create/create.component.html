<div class="container" *ngIf="!this.created">
  <form class="col-sm-6" [formGroup]="createForm">
    <div class="form-group">
      <label for="name">Nombre: <span class="text-danger"
          *ngIf="createForm.get('name').errors && createForm.get('name').hasError('required')">*</span></label>
      <input type="text" class="form-control" id="name" placeholder="Ingresa el nombre" formControlName="name">
    </div>
    <div *ngIf="createForm.get('name').invalid && 
          createForm.get('name').errors && 
          (createForm.get('name').dirty || createForm.get('name').touched)">
      <small class="text-danger" *ngIf="createForm.get('name').hasError('required')">
        This field is required.
      </small>
      <small class="text-danger" *ngIf="createForm.get('name').hasError('minlength')">
        The minimum length for this field is {{createForm.get('name').errors.minlength.requiredLength}} characters.
      </small>
      <small class="text-danger" *ngIf="createForm.get('name').hasError('maxlength')">
        The maximum length for this field is {{createForm.get('name').errors.maxlength.requiredLength}} characters.
      </small>
    </div>
    <div class="form-group">
      <label for="description">Descripcion:</label>
      <input type="text" class="form-control" id="description" placeholder="Ingresar descripcion"
        formControlName="description">
    </div>
    <div class="input-wrapper">
      <label>Date Time:</label>
      <input formControlName="date" [owlDateTimeTrigger]="dtPicker2" [owlDateTime]="dtPicker2" [selectMode]="'range'">
      <owl-date-time #dtPicker2></owl-date-time>
    </div>
    <input (click)="addDate(createForm.value.date)" type="button" value="agregar">
    <p id="datepicker" class="text-danger d-none">Debe seleccionar una fecha correcta</p>
    <table class="table">
      <thead class="thead-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Comienza</th>
          <th scope="col">Termina</th>
          <th scope="col">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of createForm.value.dates; index as i">
          <td>
            {{i+1}}
          </td>
          <td>
            {{convertDate(item[0])}}
          </td>
          <td>
            {{convertDate(item[1])}}
          </td>
          <td>
            <i class="fas fa-trash iconColor" (click)="removeDate(i)"></i>
          </td>
        </tr>
      </tbody>
    </table>
    <p id="datearray" class="text-danger d-none">Debe agregar al menos una fecha</p>
    <div class="form-group">
      <label for="password">Password de acceso:</label>
      <input type="password" class="form-control" id="password" placeholder="" formControlName="password">
    </div>
    <button type="button" class="btn btn-primary" [disabled]="createForm.invalid" (click)="theSubmit()">Submit</button>
  </form>
</div>
<app-created *ngIf="this.created" [eventCreated]="eventCreated"></app-created>